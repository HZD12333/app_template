## 关于埋点

### 页面曝光
在对应路径的 index.config.ts 下新增 $pageId 字段，添加后会自动触发曝光埋点
```ts
export default definePageConfig({
    navigationBarTitleText: '首页',
    $pageId: 'SQ_001',
} as any);
```

### 元素/组件曝光
采用这种用法的原因  1. 与业务逻辑完全隔离 2. 优化渲染
注：因小程序监听存在限制，组件必须接收且加上InView提供的className
```ts
import { InView } from '@SC/components/business';

// 组件，封装时再包一层
interface XxxxProps {}
const Xxxx: React.FC<XxxxProps>  = (props) => (<>1233</>)

const WithInView: React.FC<XxxxProps> = (props) => (
    <InView element_name='xxx' model_id='xxx'>
        {(className) => <Xxxx {...props} className={className} />}
    </InView>
);

export default React.memo(WithInView);

// 元素，请抽成组件
const Xxxx: React.FC<XxxxProps> = (props) => (
    <InView element_name='xxx' model_id='xxx'>
        {(className) => <View {...props} className={className} />}
    </InView>
);
```

### 点击上报
采用这种用法的原因：与业务逻辑完全隔离
```ts
import useTrackFn from '@SC/hooks/useTrackFn';

// 固定数据
const clickHandler = useTrackFn(
    (item: ConfigModel) => {
        navigateTo(item, false);
    },
    { element_name: 'xxxx', position: 1 },
);

// 动态数据
const clickHandler = useTrackFn(
    (item: ConfigModel) => {
        navigateTo(item, false);
    },
    (item: ConfigModel, index: string) => ({ element_name: item.title, position: index }),
);
```


